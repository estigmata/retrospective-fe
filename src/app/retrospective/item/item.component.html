<div *ngIf="item.parent">
  <div class="container">
    <div *ngIf="editMode">
      <form [formGroup]="itemForm" (ngSubmit)="save(itemForm.value)">
        <md-card>
          <md-card-content>
            <md-form-field class="full-width" >
              <textarea
                mdInput
                placeholder="{{ 'ITEM.TEXTAREA-PLACEHOLDER' | translate }}"
                formControlName="summary"
                tabindex="0">
              </textarea>
            </md-form-field>
          </md-card-content>
          <md-card-actions align="end">
            <button md-icon-button type="button" (click)="cancel()" color="warn">
              <md-icon class="md-18">clear</md-icon>
            </button>
            <button md-icon-button type="submit" color="primary" [disabled]="!itemForm.valid">
              <md-icon class="md-18">done</md-icon>
            </button>
          </md-card-actions>
        </md-card>
      </form>
    </div>
    <div *ngIf="!editMode">
      <md-card>
        <md-card-header *ngIf="state.addAction">
          <md-card-title>
            <h2>{{ "ITEM.CATEGORY" | translate }} {{item.categoryName}}</h2>
            <h4>{{ "ITEM.VOTES" | translate }} {{item.totalVotes}}</h4>
          </md-card-title>
        </md-card-header>
        <md-card-actions align="end" *ngIf="state.group && item.children.length">
          <button md-icon-button color="primary" (click)="openEditMode()" >       
            <md-icon class="md-18">edit</md-icon>        
          </button>
        </md-card-actions>
        <md-card-actions align="end" *ngIf="state.vote">
          <div class="like-icon">
            <md-icon class="md-18">thumb_up</md-icon> {{item.userRate}}
          </div>
          <a md-icon-button  color="warn" (click)="removeRate()">
            <md-icon class="md-18">exposure_neg_1</md-icon>
          </a>
          <a md-icon-button color="primary" (click)="addRate()">
            <md-icon class="md-18">plus_one</md-icon>
          </a>
        </md-card-actions>
        <md-card-actions align="end" *ngIf="state.edit">
          <button md-icon-button color="primary" (click)="openEditMode()" >
            <md-icon class="md-18">edit</md-icon>
          </button>
          <a md-icon-button color="warn" (click)="openDialog()" >
            <md-icon class="md-18">delete</md-icon>
          </a>
        </md-card-actions>
        <md-card-content>
          {{item.summary}}
        </md-card-content>
        <div *ngFor="let child of item.children" class="container">
          <md-card>
              <md-card-content>
                {{child.summary}}
              </md-card-content>
          </md-card>
        </div>
      </md-card>
    </div>
  </div>
</div>
